!function(b){function c(e){if(d[e])return d[e].exports;var f=d[e]={i:e,l:!1,exports:{}};return b[e].call(f.exports,f,f.exports,c),f.l=!0,f.exports}var d={};c.m=b,c.c=d,c.d=function(b,d,e){c.o(b,d)||Object.defineProperty(b,d,{configurable:!1,enumerable:!0,get:e})},c.n=function(a){var b=a&&a.__esModule?function(){return a.default}:function(){return a};return c.d(b,"a",b),b},c.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},c.p="",c(c.s=17)}({0:function(a){var b=Math.floor;a.exports={gen_id:()=>b(1e3*Math.random())+b(1e3*Math.random()),session:(a,b=null)=>null===b?sessionStorage.getItem(a)?sessionStorage.getItem(a):null:void(null!==b&&!sessionStorage.getItem(a)&&sessionStorage.setItem(a,b)),clear_input:()=>$(".emit-message").val(""),user_on_exists:(a,b="default")=>chat.peoples_add.includes(a.nome),to_scroll:()=>{var a=document.querySelector(".messages");$(".messages").animate({scrollTop:a.scrollHeight},"slow")},get_user:()=>({id:user.user_id,nome:user.nome,icon:user.icon}),get_horario:()=>{var b=new Date,c=(a)=>10>a?"0"+a:a,[d,e,a]=[c(b.getHours()),c(b.getMinutes()),c(b.getSeconds())];return d+":"+e+":"+a},html_element:function(a){var b=document.createElement("div");return b.innerHTML=a,b.firstChild},removerAcentos:function(b){var c=b,d={a:/[\xE0-\xE6]/g,A:/[\xC0-\xC6]/g,e:/[\xE8-\xEB]/g,E:/[\xC8-\xCB]/g,i:/[\xEC-\xEF]/g,I:/[\xCC-\xCF]/g,o:/[\xF2-\xF6]/g,O:/[\xD2-\xD6]/g,u:/[\xF9-\xFC]/g,U:/[\xD9-\xDC]/g,c:/\xE7/g,C:/\xC7/g,n:/\xF1/g,N:/\xD1/g};for(var e in d){var a=d[e];c=c.replace(a,e)}return c},bot_write:(b,c=[])=>{document.querySelector.bind(document);let d=1e4*c.length/c.length,e=0,a=c.length-1;setInterval(()=>{var d=c[e];b.innerHTML=d,++e>a&&(e=0)},d)}}},17:function(b,c,d){const{gen_id:f,session:a}=d(0),e=d(18);window.uploads=d(5),e({nome:"string",icon:"string"}),$(".btn-login").click((b)=>{b.preventDefault();let c={};var d=3<$(".nick").val().length?$(".nick").val():"Anonimo-"+Math.floor(1e4*Math.random());d&&(c.nome=d,c.id=f(),c.icon=a("icone")?a("icone"):"src/images/default-user.jpg",c.nome&&c.id&&c.icon&&((a)=>{$.post("../../../login",a,function(a){"success"===a.msg&&(location.href="/room")})})(c))}),$(".icon").change(()=>{let b=$(".icon").prop("files")[0];uploaded("../../../upload/imagem",b,function(b){"success"===b.msg&&(a("icone",b.path),$(".btn-file-up").html("Upload Feito"))})})},18:function(a){a.exports=(b)=>{Object.prototype.map=function(b=function(){}){let c=Object.keys(this);Object.values(this).map((d,e)=>b(c[e],d))};const c=new Map;return c.set("mail",(a)=>{return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)}),c.set("int",(a)=>"number"==typeof a&&Number.isInteger(a)),c.set("string",(a)=>"string"==typeof a&&""!==a),c.set("date",(a)=>a instanceof Date),c.set("json",(a)=>{try{JSON.parse(a)}catch(a){return!1}return!0}),c.set("array",(a)=>"object"==typeof a&&Array.isArray(a)),c.set("object",(a)=>"object"==typeof a&&!Array.isArray(a)&&null!==a),c.set("null",(a)=>null!==a),c.set("empty",(a)=>""!==a),function(a){return a.map((d,e)=>!!((d,e)=>{return(c.has(b[d])||Array.isArray(b[d]))&&(Array.isArray(b[d])?!b[d].map((a)=>c.get(a)(e)).includes(!1):c.get(b[d])(e))})(d,e)||(()=>{throw`Error in: ${d} value defined in Schema ${b[d]}`})()),!0}}},5:function(b,d,e){const{gen_id:f,session:a,clear_input:g,user_on_exists:h,to_scroll:j,get_user:i,get_horario:k}=e(0);window.uploaded=(b,c,d)=>{var e=new FormData;e.append("fileUpload",c),$.ajax({url:b,data:e,processData:!1,contentType:!1,type:"POST",success:d})},b.exports.image_upload=function(){$(this).parent().html("<label class=\"btn btn-file-upload\" style=\"cursor:pointer\">Image Upload<input type=\"file\" style=\"display: none;\" class=\"image-upload\" accept=\"image/*\"></label>"),$(".image-upload").change(function(){var a=$(this).prop("files")[0];uploaded("../../../upload/imagem",a,function(a){if("success"===a.msg){command_toggle();let b=`\n\t\t\t\t\t<button class="btn-link" onclick="apagar_luz(this)" style="border:none;background:#3498db;cursor:pointer">Apagar Luz</button>\n\t\t\t\t\t<img src="${a.path}" class="upload"/>\n\t\t\t\t`;socket.emit("emit message",Object.assign({},i(),{text:b,horario:k()}))}})})},b.exports.video_upload=function(){$(this).parent().html("<label class=\"btn btn-file-upload\" style=\"cursor:pointer\">Video Upload<input type=\"file\" style=\"display: none;\" class=\"video-upload\" accept=\"video/*\"></label>"),$(".video-upload").change(function(){var a=$(this).prop("files")[0];uploaded("../../../upload/video",a,function(a){if("success"===a.msg){command_toggle();let b=a.path.split(".").pop(),c=`\n\t\t\t\t\t<button class="btn-link" onclick="apagar_luz(this)" style="border:none;background:#3498db;cursor:pointer">Apagar Luz</button>\n\t\t\t\t\t<video class="video-upload upload" controls><source src="${a.path}" type="video/${b}"></video>\n\t\t\t\t`;socket.emit("emit message",Object.assign({},i(),{text:c,horario:k()}))}})})},b.exports.audio_upload=function(){$(this).parent().html("<label class=\"btn btn-file-upload\" style=\"cursor:pointer\">Audio Upload<input type=\"file\" style=\"display: none;\" class=\"video-upload\" accept=\"audio/*\"></label>"),$(".video-upload").change(function(){var a=$(this).prop("files")[0];uploaded("../../../upload/audio",a,function(a){if("success"===a.msg){command_toggle();let b=a.path.split(".").pop(),c=`\n\t\t\t\t\t<button class="btn-link" onclick="apagar_luz(this)" style="border:none;background:#3498db;cursor:pointer">Apagar Luz</button>\n\t\t\t\t\t<audio class="audio-upload upload" controls><source src="${a.path}" type="audio/${b}"></audio>\n\t\t\t\t`;socket.emit("emit message",Object.assign({},i(),{text:c,horario:k()}))}})})},b.exports.codigo_upload=function(){$(this).parent().html("<label class=\"btn btn-file-upload\" style=\"cursor:pointer\">Codigo Upload<input type=\"file\" style=\"display: none;\" class=\"code-upload\" accept=\".js,.html,.php,.css,.sass,.scss,.rb,.py,.ts,.c,.go,.rar\"></label>"),$(".code-upload").change(function(){var a=$(this).prop("files")[0];uploaded("../../../upload/arquivo",a,function(b){if("success"===b.msg){command_toggle();let d={js:"#f7df1e",php:"#4f5b93",rar:"#8e44ad",css:"#00a98f",html:"#e34f26",default:"#f39c12"},e=b.path.split(".").pop();var c=d[e]?d[e]:d.default;console.log(c);let a=`\n\t\t\t\t\t<a href="${b.path}" class="btn-link upload-up" style="background:${c};border:none;cursor:pointer;" download>Fazer download: ${b.path.split("/").pop()}</a>\t\n\t\t\t\t`;"rar"!==e&&(a=`\n\t\t\t\t\t\t<a class="btn-link" target="__blank" href="./code/${b.path.split("/").pop()}" style="border:none;background:#3498db;cursor:pointer;width:40%;">Visualizar Codigo</button>\n\t\t\t\t\t\t${a}\n\t\t\t\t\t`),socket.emit("emit message",Object.assign({},i(),{text:a,horario:k()}))}})})},b.exports.help_chat=function(){$(this).parent().html("<div class=\"helped\"><a href=\"mailto:jskhanframework@gmail.com?Subject=KhanChat\" target=\"__blank\"><div class=\"help-item\"><i class=\"fa fa-envelope fa-lg\" aria-hidden=\"true\"></i><p class=\"entry\">jskhanframework@gmail.com</p></div></a><a href=\"https://github.com/PaulaoDev\" target=\"__blank\"><div class=\"help-item\"><i class=\"fa fa-github fa-lg\" aria-hidden=\"true\"></i><p class=\"entry\">PaulaoDev</p></div></div></a>")}}});